import{r as k,P as ie,a as ce,_ as x,B as ue,b as ve,E as le,o as ye,f as n,g as t,t as r,k as s,x as Z,A as re,w as b,l as A,h,j as d,q as v,F as C,m as $,p as D,T as oe,e as l,S as H,n as m,O as ne,Q as fe,s as he,d as _e,R as be}from"./app.c411ecff.js";import{v as xe,I as we,g as ke,S as ee}from"./menu.45b2277a.js";import{f as Ce,_ as $e,N as je}from"./transition.481df94f.js";import"./index.3943f9f8.js";const I=k({data:[],meta:{}}),L=k({}),Se="newest",_=k([]),j=k(Se),B=k(1);function ze(){const y=ie(),g=ce(),S=()=>(_.value=[],g.push({params:{slug:null},query:{sort:j.value}})),F=o=>(_.value=[],g.push({params:{slug:o},query:{sort:j.value}})),Q=o=>{_.value=x.filter(_.value,p=>Object.keys(p)[0]!==o),O()},U=(o,p)=>{_.value=x.filter(_.value,w=>Object.keys(w)[0]!==o),_.value.push({[o]:p}),O()},W=o=>!x.filter(_.value,w=>Object.keys(w)[0]===o).length,G=(o,p)=>x.filter(_.value,z=>Object.keys(z)[0]===o&&z[Object.keys(z)[0]]===p).length,J=o=>{j.value=o,O()},K=()=>{B.value++,P()},X=()=>{y&&y.query.sort&&(j.value=y.query.sort),y&&y.query.page&&(B.value=y.query.page),ue(L,()=>{y&&y.query&&(_.value=q())})},q=()=>{let o=[];return x.forEach(y.query,(p,w,z)=>{let M=x.find(L.value,["slug",w]);return M&&M.slug===w?o.push({[w]:p}):null}),o},O=()=>{let o={};return j.value&&(o.sort=j.value),_.value&&(o=Object.assign(o,..._.value)),g.push({params:y.params,query:o})},V=()=>(_.value=[],g.push({params:{slug:null},query:{sort:j.value}})),P=async()=>{try{let o=y.params.slug?`/api/products/catalog/${y.params.slug}`:"/api/products/catalog",p=await axios.get(o,{params:Object.assign(y.query,{page:B.value})});I.value.data=B.value===1?p.data.data:x.unionBy(I.value.data,p.data.data,"id"),I.value.meta=p.data.meta}catch{}};return{products:I,characteristics:L,filter:_,sort:j,page:B,setAllCategories:S,setCategory:F,setAllCharacteristic:Q,setCharacteristic:U,setSort:J,loadMore:K,checkSelectedAllCharacteristic:W,checkSelectedCharacteristic:G,setValuesFromRoute:X,clearFilter:V,getProducts:P,getCharacteristics:async()=>{try{let o=await axios.get("/api/characteristics/list");L.value=o.data.data}catch{}}}}const qe={class:"md:mt-[4.3rem] mt-[3.8125rem]",id:"catalog"},Oe={class:"container pt-[2.1875rem]"},Pe={class:"mt-[2.5rem] mb-[5.3125rem] bg-athens-gray lg:rounded-[1.25rem] lg:py-[2.5rem] py-[1.375rem] lg:px-[2.9375rem] px-4"},Te={class:"flex items-center justify-between"},Ae={class:"m-0 lg:text-[1.6875rem] text-base tracking-[0.35px] text-cape-cod"},Be=t("img",{src:"/i/icons/reset-i.svg",class:"pl-[0.8125rem]",alt:""},null,-1),Fe={key:0,class:"text-base mt-[0.4rem]"},Ve=["onClick"],Me=["onClick"],Ne=["onClick"],Ee=["data-src"],Re={class:"w-full flex justify-between items-center mb-[3.4375rem]"},De={key:0,class:"uppercase text-xs text-cod-gray font-semibold"},He={class:"text-cod-gray font-semibold"},Ie={class:"grid lg:grid-cols-4 grid-cols-2 lg:gap-x-5 gap-4 lg:gap-y-20 pb-[6.25rem]"},Le={class:"relative bg-athens-gray mb-[1.5625rem] py-10"},Qe={class:"absolute z-[1] w-max m-0 left-1/2 top-[1rem] -translate-x-1/2 -translate-y-1/2 uppercase font-matroska text-[0.55rem] lg:text-[0.8125rem]"},Ue={key:0,class:"text-azure-radiance"},We=["data-src"],Ge={key:1,class:"group relative h-[10rem]"},Je=["data-src"],Ke=["data-src"],Xe=["onClick"],Ye={class:"flex flex-col lg:items-start items-center lg:text-left text-center"},Ze={class:"m-0 font-semibold text-sm lg:text-base"},et=["innerHTML"],tt={class:"m-0"},st=t("span",{class:"pl-2"},"+",-1),at={class:"container relative min-h-screen"},lt=t("img",{src:"/i/icons/arrow-left.svg",class:"lg:pl-[2.25rem] pt-10",alt:""},null,-1),rt=[lt],ot={class:"pt-[2.5rem] text-center"},nt={class:"m-0 text-[1.6875rem] text-cape-cod pb-6 capitalize"},it={class:"text-lg font-matroska uppercase"},ct={class:"text-xl pl-4 font-sf-pro-display-regular"},ut={key:0,class:"mt-[3.375rem] mb-[4.5rem] flex justify-center gap-x-[1rem]"},dt=["onClick"],mt=["src"],gt=["src"],pt={key:2,class:"lg:my-[3.75rem] md:mt-[6.25rem] mt-[3.875rem] md:mb-[8.6875rem] mb-[3.875rem] flex md:flex-row flex-col justify-center"},vt=["onClick"],yt={class:"text-base text-cape-cod font-semibold"},ft={key:3,class:"mt-[3.375rem] mb-[4.5rem] flex justify-center gap-x-[1rem]"},ht=["onClick"],_t={key:4,class:"lg:my-[3.75rem] md:mt-[6.25rem] mt-[3.875rem] md:mb-[8.6875rem] mb-[3.875rem] flex md:flex-row flex-col justify-center"},bt=["onClick"],xt={class:"text-base text-cape-cod font-semibold"},wt={class:"flex justify-center gap-x-5"},kt={class:"relative"},Ct={class:"m-0 absolute top-1/2 -translate-y-1/2 left-[1.3rem]"},$t=t("option",{value:"1"},"1",-1),jt=t("option",{value:"2"},"2",-1),St=t("option",{value:"3"},"3",-1),zt=t("option",{value:"4"},"4",-1),qt=t("option",{value:"5"},"5",-1),Ot=[$t,jt,St,zt,qt],Pt={class:"absolute lg:top-[4.4375rem] md:top-[2.5rem] py-[0.5rem] bg-cod-gray w-full text-xs flex justify-center items-center uppercase gap-x-4 z-[100]"},Tt=t("img",{src:"/i/icons/added-to-bag-i.svg",class:"w-3.5",alt:""},null,-1),At={class:"m-0 font-matroska text-white"},Bt={class:"m-0 text-mercury"},Rt={name:"Catalog",setup(y){const g=ie();ce(),ve();const{products:S,characteristics:F,filter:Q,sort:U,page:W,setAllCategories:G,setCategory:J,setAllCharacteristic:K,setCharacteristic:X,setSort:q,loadMore:O,checkSelectedAllCharacteristic:V,checkSelectedCharacteristic:P,setValuesFromRoute:te,clearFilter:o,getProducts:p,getCharacteristics:w}=ze(),{categories:z,findByField:M}=he(),{addToCart:de}=be(),se=le(()=>M("slug",g.params.slug));ue(g,()=>{g.name==="catalog"&&(W.value=1,p())},{deep:!0});const ae=k(!1),a=k([]),N=k(1),u=k(null),Y=k(!1),me=async i=>{try{let c=await axios.get(`/api/products/add-to-cart/${i}`);a.value=c.data.data,(a.value.category.slug==="machines"||a.value.category.slug==="power-unit")&&(u.value={color:a.value.options.color[0].slug}),a.value.category.slug==="cartriges"&&(u.value={diameter:a.value.options.diameter[0].slug}),a.value.parent_group==="nitrile_gloves"&&(u.value={size:a.value.options.size[0].slug}),N.value=1,R(!0)}catch{}},T=le(()=>a.value.category.slug==="machines"||a.value.category.slug==="power-unit"?x.find(a.value.options.color,["slug",u.value.color]).product:a.value.category.slug==="cartriges"?x.find(a.value.options.diameter,["slug",u.value.diameter]).product:a.value.parent_group==="nitrile_gloves"?x.find(a.value.options.size,["slug",u.value.size]).product:null),E=i=>{(a.value.category.slug==="machines"||a.value.category.slug==="power-unit")&&(u.value={color:i}),a.value.category.slug==="cartriges"&&(u.value={diameter:i}),a.value.parent_group==="nitrile_gloves"&&(u.value={size:i})},R=i=>{ae.value=i},ge=()=>{de({product_id:T.value.id,option:u.value,qty:N.value}),R(!1),Y.value=!0,setTimeout(()=>{Y.value=!1},3e3)};return ye(()=>{te(),p(),w()}),(i,c)=>{const pe=_e("router-link");return l(),n(C,null,[t("section",qe,[t("div",Oe,[t("div",Pe,[t("div",Te,[t("p",Ae,r(s(g).params.slug&&s(se)?"Choose "+s(se).name:"Filter"),1),Z(t("button",{onClick:c[0]||(c[0]=b(e=>s(o)(),["prevent"])),class:"text-xs font-semibold text-azure-radiance lg:text-cod-gray uppercase flex items-center"},[A(r(i.$t("catalog.clear"))+" ",1),Be],512),[[re,s(g).params.slug||s(Q).length]])]),s(z)?(l(),n("div",Fe,[h(s(ne),{direction:"horizontal",spaceBetween:20,slidesPerView:"auto",class:"lg:w-full filter-row-swiper"},{default:d(()=>[h(s(H),{class:"!w-max"},{default:d(()=>[t("button",{onClick:c[1]||(c[1]=b(e=>s(G)(),["prevent"])),class:m(["flex items-center px-[2.9375rem] !h-[2.5rem] lg:!h-[4.375rem] bg-white rounded-[0.625rem]",{"drop-shadow":!s(g).params.slug}])},[t("span",{class:m(["font-semibold border-b border-transparent duration-300 easy-in-out",{"!border-cod-gray":!s(g).params.slug}])},r(i.$t("catalog.all_categories")),3)],2)]),_:1}),(l(!0),n(C,null,$(s(z),e=>(l(),D(s(H),{key:e.slug,class:"!w-max"},{default:d(()=>[t("button",{onClick:b(f=>s(J)(e.slug),["prevent"]),class:m(["flex items-center !w-max px-[2.9375rem] !h-[2.5rem] lg:!h-[4.375rem] bg-white rounded-[0.625rem]",{"drop-shadow":s(g).params.slug===e.slug}])},[t("span",{class:m(["font-semibold border-b border-transparent duration-300 easy-in-out",{"!border-cod-gray":s(g).params.slug===e.slug}])},r(e.name),3)],10,Ve)]),_:2},1024))),128))]),_:1})])):v("",!0),s(F)&&s(g).params.slug?(l(!0),n(C,{key:1},$(s(x).filter(s(F),["set_for",s(g).params.slug]),e=>(l(),n("div",{key:e.slug,class:"text-base mt-[0.4rem]"},[h(s(ne),{direction:"horizontal",spaceBetween:20,slidesPerView:"auto",class:"lg:w-full filter-row-swiper"},{default:d(()=>[h(s(H),{class:"!w-max"},{default:d(()=>[t("button",{onClick:b(f=>s(K)(e.slug),["prevent"]),class:m(["flex items-center px-[2.9375rem] !h-[2.5rem] lg:!h-[4.375rem] bg-white rounded-[0.625rem]",{"drop-shadow":s(V)(e.slug)}])},[t("span",{class:m(["font-semibold border-b border-transparent duration-300 easy-in-out",{"!border-cod-gray":s(V)(e.slug)}])},r(e.filterAllVariants),3)],10,Me)]),_:2},1024),(l(!0),n(C,null,$(e.values,f=>(l(),D(s(H),{key:f.slug,class:"!w-max"},{default:d(()=>[t("button",{onClick:b(Ft=>s(X)(e.slug,f.slug),["prevent"]),class:m(["flex items-center !w-max px-[2.9375rem] !h-[2.5rem] lg:!h-[4.375rem] bg-white rounded-[0.625rem]",{"drop-shadow":s(P)(e.slug,f.slug)}])},[t("span",{class:m(["font-semibold border-b border-transparent duration-300 easy-in-out",{"!border-cod-gray":s(P)(e.slug,f.slug)}])},r(f.name),3),f.imagePath&&e.slug==="line"?(l(),n("img",{key:0,"data-src":f.imagePath,class:"lazyload pl-5 hidden lg:block",alt:""},null,8,Ee)):v("",!0)],10,Ne)]),_:2},1024))),128))]),_:2},1024)]))),128)):v("",!0)]),t("div",Re,[s(S).meta?(l(),n("p",De,r(s(S).meta.total)+" "+r(i.$t("catalog.items")),1)):v("",!0),h(s(xe),{as:"div",class:"uppercase relative border border-philippine-gray rounded-[1.625rem] text-philippine-gray text-[0.6875rem]"},{default:d(()=>[h(s(we),{class:"block uppercase py-[0.625rem] px-[2.625rem]"},{default:d(()=>[A(r(i.$t("catalog.sort_by"))+" ",1),t("span",He,r(i.$t(`catalog.${s(U)}`)),1)]),_:1}),h(oe,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"transform opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100","leave-to-class":"transform opacity-0"},{default:d(()=>[h(s(ke),{as:"ul",class:"pt-5 pb-4 z-10 w-full left-0 flex flex-col justify-center items-center gap-y-3"},{default:d(()=>[h(s(ee),{as:"li",class:"hover:text-cod-gray animated"},{default:d(()=>[t("button",{onClick:c[2]||(c[2]=e=>s(q)("newest"))},r(i.$t("catalog.newest")),1)]),_:1}),h(s(ee),{as:"li",class:"hover:text-cod-gray animated"},{default:d(()=>[t("button",{onClick:c[3]||(c[3]=e=>s(q)("price_asc"))},r(i.$t("catalog.price_asc")),1)]),_:1}),h(s(ee),{as:"li",class:"hover:text-cod-gray animated"},{default:d(()=>[t("button",{onClick:c[4]||(c[4]=e=>s(q)("price_desc"))},r(i.$t("catalog.price_desc")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),t("div",Ie,[(l(!0),n(C,null,$(s(S).data,e=>(l(),n("div",{key:e.id},[h(pe,{to:{name:"product",params:{slug:e.slug}}},{default:d(()=>[t("div",Le,[t("p",Qe,[A(r(e.shortName)+" ",1),e.isNewest?(l(),n("span",Ue,"New")):v("",!0)]),e.images.length===1?(l(),n("img",{key:0,"data-src":e.images[0].imagePath,class:"lazyload w-full h-[10rem] object-contain",alt:""},null,8,We)):v("",!0),e.images.length===2?(l(),n("div",Ge,[t("img",{"data-src":e.images[0].imagePath,class:"lazyload opacity-100 duration-300 ease-in-out group-hover:!opacity-0 absolute inset-0 w-full h-full object-contain",alt:""},null,8,Je),t("img",{"data-src":e.images[1].imagePath,class:"lazyload opacity-0 duration-300 ease-in-out group-hover:!opacity-100 absolute inset-0 w-full h-full object-contain",alt:""},null,8,Ke)])):v("",!0),t("button",{onClick:b(f=>me(e.id),["prevent"]),class:"absolute left-1/2 bottom-0 -translate-x-1/2 lg:h-[2.1875rem] w-max p-2 md:h-[3.125rem] flex justify-center items-center border border-cod-gray rounded-lg hover:bg-cod-gray hover:text-white animated text-xs lg:text-base mb-1"},r(i.$t("catalog.add_to_cart")),9,Xe)]),t("div",Ye,[t("p",Ze,r(e.name),1),t("p",{class:"m-0 hidden lg:block text-xs text-shuttle-gray py-[0.625rem]",innerHTML:e.description},null,8,et),t("p",tt,r(e.priceWithSymbol),1)])]),_:2},1032,["to"])]))),128))]),s(S).meta.total>s(S).data.length?(l(),n("button",{key:0,onClick:c[5]||(c[5]=b(e=>s(O)(),["prevent"])),class:"px-[1.625rem] py-[1.25rem] border border-mercury rounded-[1.625rem] w-[8.75rem] h-[1.875rem] justify-center uppercase text-xs font-semibold flex items-center w-max mx-auto"},[A(r(i.$t("catalog.see_more"))+" ",1),st])):v("",!0)])]),s(x).isEmpty(a.value)?v("",!0):(l(),D(s(Ce),{key:0,show:ae.value,id:"addToCart",as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:d(()=>[h(s(je),{onClose:R,class:"bg-white fixed inset-x-0 w-full left-0 md:top-[4.3rem] top-[3.7rem] md:pt-[3.125rem] pt-[1.875rem] z-[999]"},{default:d(()=>[h(s($e),null,{default:d(()=>[t("div",at,[t("button",{onClick:c[6]||(c[6]=b(e=>R(!1),["prevent"])),class:"w-max block"},rt),t("div",ot,[t("p",nt,r(i.$t("catalog.choose_your"))+" "+r(Object.keys(a.value.options)[0]),1),t("p",it,[A(r(s(T).name)+" ",1),t("span",ct,r(s(T).priceWithSymbol),1)])]),a.value.category.slug==="machines"?(l(),n("div",ut,[(l(!0),n(C,null,$(a.value.options.color,e=>(l(),n("div",{key:e.slug,onClick:b(f=>E(e.slug),["prevent"]),class:"group"},[t("div",{class:m(["flex flex-col rounded-[1.25rem] group-hover:bg-athens-gray items-center px-[2.625rem] pt-[2rem] pb-[1.625rem] cursor-pointer",{"!bg-athens-gray":u.value.color===e.slug}])},[t("img",{src:"/i/icons/check-i.svg",class:m(["w-[1.375rem] pb-4 opacity-0",{"!opacity-100":u.value.color===e.slug}]),alt:""},null,2),t("p",{class:m(["text-shuttle-gray text-base pb-4 group-hover:text-cod-gray group-hover:font-semibold",{"!font-semibold":u.value.color===e.slug}])},r(e.name),3),t("img",{src:e.imagePath,class:"w-[2.9375rem] h-[13.3125rem] object-contain",alt:""},null,8,mt)],2)],8,dt))),128))])):v("",!0),a.value.category.slug==="cartriges"?(l(),n("img",{key:1,src:s(T).imagePath,class:"w-[17.1875rem] h-[3.75rem] mx-auto lg:mt-[5rem] md:mt-[11.375rem] md:block hidden",alt:""},null,8,gt)):v("",!0),a.value.category.slug==="cartriges"?(l(),n("div",pt,[(l(!0),n(C,null,$(a.value.options.diameter,e=>(l(),n("div",{key:e.slug,onClick:b(f=>E(e.slug),["prevent"]),class:"group"},[t("div",{class:m(["flex flex-col rounded-[1.25rem] group-hover:bg-athens-gray items-center p-4 gap-y-4 cursor-pointer",{"!bg-athens-gray":u.value.diameter===e.slug}])},[t("img",{src:"/i/icons/check-i.svg",class:m(["w-[1.375rem] opacity-0",{"!opacity-100":u.value.diameter===e.slug}]),alt:""},null,2),t("p",yt,r(e.name),1)],2)],8,vt))),128))])):v("",!0),a.value.category.slug==="power-unit"?(l(),n("div",ft,[(l(!0),n(C,null,$(a.value.options.color,e=>(l(),n("div",{key:e.slug,onClick:b(f=>E(e.slug),["prevent"]),class:"group"},[t("div",{class:m(["flex flex-col rounded-[1.25rem] group-hover:bg-athens-gray items-center px-[2.625rem] pt-[2rem] pb-[1.625rem] cursor-pointer",{"!bg-athens-gray":u.value.color===e.slug}])},[t("img",{src:"/i/icons/check-i.svg",class:m(["w-[1.375rem] pb-4 opacity-0",{"!opacity-100":u.value.color===e.slug}]),alt:""},null,2),t("p",{class:m(["text-shuttle-gray text-base pb-4 group-hover:text-cod-gray group-hover:font-semibold",{"!font-semibold":u.value.color===e.slug}])},r(e.name),3)],2)],8,ht))),128))])):v("",!0),a.value.parent_group==="nitrile_gloves"?(l(),n("div",_t,[(l(!0),n(C,null,$(a.value.options.size,e=>(l(),n("div",{key:e.slug,onClick:b(f=>E(e.slug),["prevent"]),class:"group"},[t("div",{class:m(["flex flex-col rounded-[1.25rem] group-hover:bg-athens-gray items-center p-4 gap-y-4 cursor-pointer",{"!bg-athens-gray":u.value.size===e.slug}])},[t("img",{src:"/i/icons/check-i.svg",class:m(["w-[1.375rem] opacity-0",{"!opacity-100":u.value.size===e.slug}]),alt:""},null,2),t("p",xt,r(e.name),1)],2)],8,bt))),128))])):v("",!0),t("div",wt,[t("div",kt,[t("p",Ct,r(i.$t("cart.qty")),1),Z(t("select",{"onUpdate:modelValue":c[7]||(c[7]=e=>N.value=e),class:"border border-mercury rounded-lg py-3 flex justify-between w-[10rem] h-[3.25rem] text-center"},Ot,512),[[fe,N.value]])]),t("button",{onClick:c[8]||(c[8]=b(e=>ge(),["prevent"])),type:"button",class:"rounded-lg bg-cod-gray text-white text-base w-[10rem] h-[3.25rem]"},r(i.$t("catalog.add_to_cart")),1)])])]),_:1})]),_:1})]),_:1},8,["show"])),s(x).isEmpty(a.value)?v("",!0):Z((l(),D(oe,{key:1,"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"transform opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform opacity-100","leave-to-class":"transform opacity-0"},{default:d(()=>[t("div",Pt,[Tt,t("p",At,r(s(T).name),1),t("p",Bt,r(i.$t("catalog.added_to_bag")),1)])]),_:1},512)),[[re,Y.value]])],64)}}};export{Rt as default};
